(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

/**
 * CONTACT FORM HANDLER
 * Handles contact form
 */
var contactContainer = document.getElementById('contactContainer');
var contactButton = document.getElementById('contactButton');
var contactOverlay = document.getElementById('contactOverlay');
var contactContainerClassName = contactContainer.classList[0];
var contactContainerClassNameActive = "".concat(contactContainerClassName, "-active");
var contactContainerClassNameDisabled = "".concat(contactContainerClassName, "-disabled");
var contactInputName = document.getElementById('contactName');
var contactInputEmail = document.getElementById('contactEmail');
var contactActive = false;

function openContact() {
  if (!contactActive) {
    contactContainer.classList.add(contactContainerClassNameActive);
    contactContainer.classList.remove(contactContainerClassNameDisabled);
    contactActive = true;
  } else {
    closeContact();
  }
}

function closeContact() {
  contactContainer.classList.add(contactContainerClassNameDisabled);
  contactContainer.classList.remove(contactContainerClassNameActive);
  contactInputName.value = '';
  contactInputEmail.value = '';
  contactActive = false;
}

contactButton.addEventListener('click', function () {
  openContact();
});
contactOverlay.addEventListener('click', function () {
  openContact();
});

},{}],2:[function(require,module,exports){
"use strict";

/**
 * CONSTANTS
 * Set CONSTANTS
 */
var INSTRUMENTS_LIB = {
  instruments: ['violin', 'trumpet', 'keyboard', 'piano', 'sax', 'acoustic-guitar', 'electric-guitar', 'disco']
};
var CYCLE_DIRECTIONS = {
  left: 'left',
  right: 'right'
};
var BASE_IMAGE = './images/instruments/';
var BASE_SOUND = './music/';
/**
 * INSTRUMENT PLAYER HANDLER
 * Handles playing and stopping intsruments
 */

var instrumentNumber = 0;
var instrumentActive = false;
var oldInstrumentClass = null;
var instrumentAudio = document.getElementById('instrumentAudio');
var instrumentIcon = document.getElementById('instrumentIcon');
var instrumentBackground = 'ti-Content';
var instrumentPlaying = 'ti-Content-instrument-playing';

var setContent = function setContent() {
  instrumentIcon.style.backgroundImage = "url(".concat(BASE_IMAGE).concat(INSTRUMENTS_LIB.instruments[instrumentNumber], ".svg)");
  instrumentAudio.src = "".concat(BASE_SOUND).concat(INSTRUMENTS_LIB.instruments[instrumentNumber], ".mp3");
  var newInstrumentClass = "".concat(instrumentBackground, "-").concat(INSTRUMENTS_LIB.instruments[instrumentNumber]);
  oldInstrumentClass ? instrumentIcon.parentElement.classList.replace(oldInstrumentClass, newInstrumentClass) : instrumentIcon.parentElement.classList.add(oldInstrumentClass, newInstrumentClass);
  oldInstrumentClass = newInstrumentClass;
};

var stopInstrument = function stopInstrument() {
  instrumentActive = false;
  instrumentIcon.classList.remove(instrumentPlaying);
  instrumentAudio.pause();
  instrumentAudio.currentTime = 0;
};

var startInstrument = function startInstrument() {
  if (!instrumentActive) {
    instrumentIcon.classList.add(instrumentPlaying);
    instrumentAudio.loop = true;
    instrumentAudio.play();
    instrumentActive = !instrumentActive;
  } else {
    stopInstrument();
  }
};

instrumentIcon.addEventListener('click', startInstrument);
/**
 * CYCLE HANDLER
 * Handles cycling through intsruments
 */

var BUTTON_LEFT = document.getElementById('arrow-left');
var BUTTON_RIGHT = document.getElementById('arrow-right');

var cycleInstruments = function cycleInstruments() {
  var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : CYCLE_DIRECTIONS.left;
  stopInstrument();

  if (direction === CYCLE_DIRECTIONS.left) {
    if (instrumentNumber <= 0) {
      instrumentNumber = INSTRUMENTS_LIB.instruments.length - 1;
    } else {
      instrumentNumber--;
    }
  } else {
    if (instrumentNumber >= INSTRUMENTS_LIB.instruments.length - 1) {
      instrumentNumber = 0;
    } else {
      instrumentNumber++;
    }
  }

  setContent();
};

BUTTON_LEFT.addEventListener('click', function () {
  return cycleInstruments(CYCLE_DIRECTIONS.left);
});
BUTTON_RIGHT.addEventListener('click', function () {
  return cycleInstruments(CYCLE_DIRECTIONS.right);
});
/**
 * INIT
 * Initialize the app
 */

document.addEventListener('onload', setContent());

},{}],3:[function(require,module,exports){
"use strict";

/**
 * SPLASH SCREEN HANDLER
 * Handles splash screen on app init
 */
var splashScreen = document.getElementById('splashScreen');
var splashScreenClassName = splashScreen.classList[0];
var splashButton = document.getElementById('splashButton');
splashButton.addEventListener('click', function () {
  splashScreen.classList.add("".concat(splashScreenClassName, "-hidden"));
  setTimeout(function () {
    splashScreen.remove();
  }, 4000);
});

},{}],4:[function(require,module,exports){
"use strict";

/**
 * CONTACT FORM HANDLER
 * Handles subscribe form
 */
var subscribeContainer = document.getElementById('subscribeContainer');
var subscribeButton = document.getElementById('subscribeButton');
var subscribeOverlay = document.getElementById('subscribeOverlay');
var subscribeContainerClassName = subscribeContainer.classList[0];
var subscribeContainerClassNameActive = "".concat(subscribeContainerClassName, "-active");
var subscribeContainerClassNameDisabled = "".concat(subscribeContainerClassName, "-disabled");
var subscribeInputEmail = document.getElementById('mce-EMAIL');
var subscribeActive = false;

function openSubscribe() {
  if (!subscribeActive) {
    subscribeContainer.classList.add(subscribeContainerClassNameActive);
    subscribeContainer.classList.remove(subscribeContainerClassNameDisabled);
    subscribeActive = true;
  } else {
    closeSubscribe();
  }
}

function closeSubscribe() {
  subscribeContainer.classList.add(subscribeContainerClassNameDisabled);
  subscribeContainer.classList.remove(subscribeContainerClassNameActive);
  subscribeInputEmail.value = '';
  subscribeActive = false;
}

subscribeButton.addEventListener('click', function () {
  openSubscribe();
});
subscribeOverlay.addEventListener('click', function () {
  openSubscribe();
});

},{}]},{},[2,3,1,4])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvanMvY29udGFjdC5qcyIsImFwcC9qcy9tYWluLmpzIiwiYXBwL2pzL3NwbGFzaC5qcyIsImFwcC9qcy9zdWJzY3JpYmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOzs7O0FBS0EsSUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsY0FBVCxDQUF3QixrQkFBeEIsQ0FBekI7QUFDQSxJQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBVCxDQUF3QixlQUF4QixDQUF0QjtBQUNBLElBQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxjQUFULENBQXdCLGdCQUF4QixDQUF2QjtBQUVBLElBQU0seUJBQXlCLEdBQUcsZ0JBQWdCLENBQUMsU0FBakIsQ0FBMkIsQ0FBM0IsQ0FBbEM7QUFDQSxJQUFNLCtCQUErQixhQUFNLHlCQUFOLFlBQXJDO0FBQ0EsSUFBTSxpQ0FBaUMsYUFBTSx5QkFBTixjQUF2QztBQUVBLElBQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsYUFBeEIsQ0FBekI7QUFDQSxJQUFNLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxjQUFULENBQXdCLGNBQXhCLENBQTFCO0FBRUEsSUFBSSxhQUFhLEdBQUcsS0FBcEI7O0FBRUEsU0FBUyxXQUFULEdBQXVCO0FBQ3RCLE1BQUcsQ0FBQyxhQUFKLEVBQW1CO0FBQ2xCLElBQUEsZ0JBQWdCLENBQUMsU0FBakIsQ0FBMkIsR0FBM0IsQ0FBK0IsK0JBQS9CO0FBQ0EsSUFBQSxnQkFBZ0IsQ0FBQyxTQUFqQixDQUEyQixNQUEzQixDQUFrQyxpQ0FBbEM7QUFDQSxJQUFBLGFBQWEsR0FBRyxJQUFoQjtBQUNBLEdBSkQsTUFLSztBQUNKLElBQUEsWUFBWTtBQUNaO0FBQ0Q7O0FBRUQsU0FBUyxZQUFULEdBQXdCO0FBQ3ZCLEVBQUEsZ0JBQWdCLENBQUMsU0FBakIsQ0FBMkIsR0FBM0IsQ0FBK0IsaUNB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QUFDSixJQUFBLGNBQWM7QUFDZDtBQUNEOztBQUVELFNBQVMsY0FBVCxHQUEwQjtBQUN6QixFQUFBLGtCQUFrQixDQUFDLFNBQW5CLENBQTZCLEdBQTdCLENBQWlDLG1DQUFqQztBQUNBLEVBQUEsa0JBQWtCLENBQUMsU0FBbkIsQ0FBNkIsTUFBN0IsQ0FBb0MsaUNBQXBDO0FBQ0EsRUFBQSxtQkFBbUIsQ0FBQyxLQUFwQixHQUE0QixFQUE1QjtBQUNBLEVBQUEsZUFBZSxHQUFHLEtBQWxCO0FBQ0E7O0FBRUQsZUFBZSxDQUFDLGdCQUFoQixDQUFpQyxPQUFqQyxFQUEwQyxZQUFNO0FBQy9DLEVBQUEsYUFBYTtBQUNiLENBRkQ7QUFJQSxnQkFBZ0IsQ0FBQyxnQkFBakIsQ0FBa0MsT0FBbEMsRUFBMkMsWUFBTTtBQUNoRCxFQUFBLGFBQWE7QUFDYixDQUZEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqXG4gKiBDT05UQUNUIEZPUk0gSEFORExFUlxuICogSGFuZGxlcyBjb250YWN0IGZvcm1cbiAqL1xuXG5jb25zdCBjb250YWN0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RDb250YWluZXInKTtcbmNvbnN0IGNvbnRhY3RCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdEJ1dHRvbicpO1xuY29uc3QgY29udGFjdE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdE92ZXJsYXknKTtcblxuY29uc3QgY29udGFjdENvbnRhaW5lckNsYXNzTmFtZSA9IGNvbnRhY3RDb250YWluZXIuY2xhc3NMaXN0WzBdO1xuY29uc3QgY29udGFjdENvbnRhaW5lckNsYXNzTmFtZUFjdGl2ZSA9IGAke2NvbnRhY3RDb250YWluZXJDbGFzc05hbWV9LWFjdGl2ZWBcbmNvbnN0IGNvbnRhY3RDb250YWluZXJDbGFzc05hbWVEaXNhYmxlZCA9IGAke2NvbnRhY3RDb250YWluZXJDbGFzc05hbWV9LWRpc2FibGVkYDtcblxuY29uc3QgY29udGFjdElucHV0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWN0TmFtZScpO1xuY29uc3QgY29udGFjdElucHV0RW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdEVtYWlsJyk7XG5cbmxldCBjb250YWN0QWN0aXZlID0gZmFsc2U7XG5cbmZ1bmN0aW9uIG9wZW5Db250YWN0KCkge1xuXHRpZighY29udGFjdEFjdGl2ZSkge1xuXHRcdGNvbnRhY3RDb250YWluZXIuY2xhc3NMaXN0LmFkZChjb250YWN0Q29udGFpbmVyQ2xhc3NOYW1lQWN0aXZlKTtcblx0XHRjb250YWN0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoY29udGFjdENvbnRhaW5lckNsYXNzTmFtZURpc2FibGVkKTtcblx0XHRjb250YWN0QWN0aXZlID0gdHJ1ZTtcblx0fVxuXHRlbHNlIHtcblx0XHRjbG9zZUNvbnRhY3QoKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjbG9zZUNvbnRhY3QoKSB7XG5cdGNvbnRhY3RDb250YWluZXIuY2xhc3NMaXN0LmFkZChjb250YWN0Q29udGFpbmVyQ2xhc3NOYW1lRGlzYWJsZWQpO1xuXHRjb250YWN0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoY29udGFjdENvbnRhaW5lckNsYXNzTmFtZUFjdGl2ZSk7XG5cdGNvbnRhY3RJbnB1dE5hbWUudmFsdWUgPSAnJztcblx0Y29udGFjdElucHV0RW1haWwudmFsdWUgPSAnJztcblx0Y29udGFjdEFjdGl2ZSA9IGZhbHNlO1xufVxuXG5jb250YWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRvcGVuQ29udGFjdCgpO1xufSk7XG5cbmNvbnRhY3RPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRvcGVuQ29udGFjdCgpO1xufSk7XG4iLCIvKipcclxuICogQ09OU1RBTlRTXHJcbiAqIFNldCBDT05TVEFOVFNcclxuICovXHJcblxyXG5jb25zdCBJTlNUUlVNRU5UU19MSUIgPSB7XHJcblx0aW5zdHJ1bWVudHM6IFtcclxuXHRcdCd2aW9saW4nLFxyXG5cdFx0J3RydW1wZXQnLFxyXG5cdFx0J2tleWJvYXJkJyxcclxuXHRcdCdwaWFubycsXHJcblx0XHQnc2F4JyxcclxuXHRcdCdhY291c3RpYy1ndWl0YXInLFxyXG5cdFx0J2VsZWN0cmljLWd1aXRhcicsXHJcblx0XHQnZGlzY28nLFxyXG5cdF0sXHJcbn07XHJcblxyXG5jb25zdCBDWUNMRV9ESVJFQ1RJT05TID0ge1xyXG5cdGxlZnQ6ICdsZWZ0JyxcclxuXHRyaWdodDogJ3JpZ2h0JyxcclxufTtcclxuXHJcbmNvbnN0IEJBU0VfSU1BR0UgPSAnLi9pbWFnZXMvaW5zdHJ1bWVudHMvJztcclxuY29uc3QgQkFTRV9TT1VORCA9ICcuL211c2ljLyc7XHJcblxyXG4vKipcclxuICogSU5TVFJVTUVOVCBQTEFZRVIgSEFORExFUlxyXG4gKiBIYW5kbGVzIHBsYXlpbmcgYW5kIHN0b3BwaW5nIGludHNydW1lbnRzXHJcbiAqL1xyXG5cclxubGV0IGluc3RydW1lbnROdW1iZXIgPSAwO1xyXG5sZXQgaW5zdHJ1bWVudEFjdGl2ZSA9IGZhbHNlO1xyXG5sZXQgb2xkSW5zdHJ1bWVudENsYXNzID0gbnVsbDtcclxuY29uc3QgaW5zdHJ1bWVudEF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc3RydW1lbnRBdWRpbycpO1xyXG5jb25zdCBpbnN0cnVtZW50SWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnN0cnVtZW50SWNvbicpO1xyXG5cclxuY29uc3QgaW5zdHJ1bWVudEJhY2tncm91bmQgPSAndGktQ29udGVudCc7XHJcbmNvbnN0IGluc3RydW1lbnRQbGF5aW5nID0gJ3RpLUNvbnRlbnQtaW5zdHJ1bWVudC1wbGF5aW5nJztcclxuXHJcbmNvbnN0IHNldENvbnRlbnQgPSAoKSA9PiB7XHJcblx0aW5zdHJ1bWVudEljb24uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke0JBU0VfSU1BR0V9JHtcclxuXHRcdElOU1RSVU1FTlRTX0xJQi5pbnN0cnVtZW50c1tpbnN0cnVtZW50TnVtYmVyXVxyXG5cdH0uc3ZnKWA7XHJcblxyXG5cdGluc3RydW1lbnRBdWRpby5zcmMgPSBgJHtCQVNFX1NPVU5EfSR7XHJcblx0XHRJTlNUUlVNRU5UU19MSUIuaW5zdHJ1bWVudHNbaW5zdHJ1bWVudE51bWJlcl1cclxuXHR9Lm1wM2A7XHJcblxyXG5cdGxldCBuZXdJbnN0cnVtZW50Q2xhc3MgPSBgJHtpbnN0cnVtZW50QmFja2dyb3VuZH0tJHtJTlNUUlVNRU5UU19MSUIuaW5zdHJ1bWVudHNbaW5zdHJ1bWVudE51bWJlcl19YDtcclxuXHRvbGRJbnN0cnVtZW50Q2xhc3NcclxuXHRcdD8gaW5zdHJ1bWVudEljb24ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVwbGFjZShvbGRJbnN0cnVtZW50Q2xhc3MsbmV3SW5zdHJ1bWVudENsYXNzKVxyXG5cdFx0OiBpbnN0cnVtZW50SWNvbi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQob2xkSW5zdHJ1bWVudENsYXNzLG5ld0luc3RydW1lbnRDbGFzcyk7XHJcblx0b2xkSW5zdHJ1bWVudENsYXNzID0gbmV3SW5zdHJ1bWVudENsYXNzO1xyXG59O1xyXG5cclxuY29uc3Qgc3RvcEluc3RydW1lbnQgPSAoKSA9PiB7XHJcblx0aW5zdHJ1bWVudEFjdGl2ZSA9IGZhbHNlO1xyXG5cdGluc3RydW1lbnRJY29uLmNsYXNzTGlzdC5yZW1vdmUoaW5zdHJ1bWVudFBsYXlpbmcpO1xyXG5cdGluc3RydW1lbnRBdWRpby5wYXVzZSgpO1xyXG5cdGluc3RydW1lbnRBdWRpby5jdXJyZW50VGltZSA9IDA7XHJcbn07XHJcblxyXG5jb25zdCBzdGFydEluc3RydW1lbnQgPSAoKSA9PiB7XHJcblx0aWYgKCFpbnN0cnVtZW50QWN0aXZlKSB7XHJcblx0XHRpbnN0cnVtZW50SWNvbi5jbGFzc0xpc3QuYWRkKGluc3RydW1lbnRQbGF5aW5nKTtcclxuXHRcdGluc3RydW1lbnRBdWRpby5sb29wID0gdHJ1ZTtcclxuXHRcdGluc3RydW1lbnRBdWRpby5wbGF5KCk7XHJcblx0XHRpbnN0cnVtZW50QWN0aXZlID0gIWluc3RydW1lbnRBY3RpdmU7XHJcblx0fSBlbHNlIHtcclxuXHRcdHN0b3BJbnN0cnVtZW50KCk7XHJcblx0fVxyXG59O1xyXG5cclxuaW5zdHJ1bWVudEljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGFydEluc3RydW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIENZQ0xFIEhBTkRMRVJcclxuICogSGFuZGxlcyBjeWNsaW5nIHRocm91Z2ggaW50c3J1bWVudHNcclxuICovXHJcblxyXG5jb25zdCBCVVRUT05fTEVGVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcnJvdy1sZWZ0Jyk7XHJcbmNvbnN0IEJVVFRPTl9SSUdIVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcnJvdy1yaWdodCcpO1xyXG5cclxuY29uc3QgY3ljbGVJbnN0cnVtZW50cyA9IChkaXJlY3Rpb24gPSBDWUNMRV9ESVJFQ1RJT05TLmxlZnQpID0+IHtcclxuXHRzdG9wSW5zdHJ1bWVudCgpO1xyXG5cclxuXHRpZiAoZGlyZWN0aW9uID09PSBDWUNMRV9ESVJFQ1RJT05TLmxlZnQpIHtcclxuXHRcdGlmIChpbnN0cnVtZW50TnVtYmVyIDw9IDApIHtcclxuXHRcdFx0aW5zdHJ1bWVudE51bWJlciA9IElOU1RSVU1FTlRTX0xJQi5pbnN0cnVtZW50cy5sZW5ndGggLSAxO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5zdHJ1bWVudE51bWJlci0tO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAoaW5zdHJ1bWVudE51bWJlciA+PSBJTlNUUlVNRU5UU19MSUIuaW5zdHJ1bWVudHMubGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRpbnN0cnVtZW50TnVtYmVyID0gMDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluc3RydW1lbnROdW1iZXIrKztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHNldENvbnRlbnQoKTtcclxufTtcclxuXHJcbkJVVFRPTl9MRUZULmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cclxuXHRjeWNsZUluc3RydW1lbnRzKENZQ0xFX0RJUkVDVElPTlMubGVmdClcclxuKTtcclxuXHJcbkJVVFRPTl9SSUdIVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XHJcblx0Y3ljbGVJbnN0cnVtZW50cyhDWUNMRV9ESVJFQ1RJT05TLnJpZ2h0KVxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIElOSVRcclxuICogSW5pdGlhbGl6ZSB0aGUgYXBwXHJcbiAqL1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignb25sb2FkJywgc2V0Q29udGVudCgpKTtcclxuIiwiLyoqXG4gKiBTUExBU0ggU0NSRUVOIEhBTkRMRVJcbiAqIEhhbmRsZXMgc3BsYXNoIHNjcmVlbiBvbiBhcHAgaW5pdFxuICovXG5cbmNvbnN0IHNwbGFzaFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxhc2hTY3JlZW4nKTtcbmNvbnN0IHNwbGFzaFNjcmVlbkNsYXNzTmFtZSA9IHNwbGFzaFNjcmVlbi5jbGFzc0xpc3RbMF07XG5jb25zdCBzcGxhc2hCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BsYXNoQnV0dG9uJyk7XG5cbnNwbGFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0c3BsYXNoU2NyZWVuLmNsYXNzTGlzdC5hZGQoYCR7c3BsYXNoU2NyZWVuQ2xhc3NOYW1lfS1oaWRkZW5gKTtcblx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0c3BsYXNoU2NyZWVuLnJlbW92ZSgpO1xuXHR9LCA0MDAwKTtcbn0pO1xuIiwiLyoqXG4gKiBDT05UQUNUIEZPUk0gSEFORExFUlxuICogSGFuZGxlcyBzdWJzY3JpYmUgZm9ybVxuICovXG5cbmNvbnN0IHN1YnNjcmliZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJzY3JpYmVDb250YWluZXInKTtcbmNvbnN0IHN1YnNjcmliZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJzY3JpYmVCdXR0b24nKTtcbmNvbnN0IHN1YnNjcmliZU92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vic2NyaWJlT3ZlcmxheScpO1xuXG5jb25zdCBzdWJzY3JpYmVDb250YWluZXJDbGFzc05hbWUgPSBzdWJzY3JpYmVDb250YWluZXIuY2xhc3NMaXN0WzBdO1xuY29uc3Qgc3Vic2NyaWJlQ29udGFpbmVyQ2xhc3NOYW1lQWN0aXZlID0gYCR7c3Vic2NyaWJlQ29udGFpbmVyQ2xhc3NOYW1lfS1hY3RpdmVgXG5jb25zdCBzdWJzY3JpYmVDb250YWluZXJDbGFzc05hbWVEaXNhYmxlZCA9IGAke3N1YnNjcmliZUNvbnRhaW5lckNsYXNzTmFtZX0tZGlzYWJsZWRgO1xuXG5jb25zdCBzdWJzY3JpYmVJbnB1dEVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21jZS1FTUFJTCcpO1xuXG5sZXQgc3Vic2NyaWJlQWN0aXZlID0gZmFsc2U7XG5cbmZ1bmN0aW9uIG9wZW5TdWJzY3JpYmUoKSB7XG5cdGlmKCFzdWJzY3JpYmVBY3RpdmUpIHtcblx0XHRzdWJzY3JpYmVDb250YWluZXIuY2xhc3NMaXN0LmFkZChzdWJzY3JpYmVDb250YWluZXJDbGFzc05hbWVBY3RpdmUpO1xuXHRcdHN1YnNjcmliZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKHN1YnNjcmliZUNvbnRhaW5lckNsYXNzTmFtZURpc2FibGVkKTtcblx0XHRzdWJzY3JpYmVBY3RpdmUgPSB0cnVlO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGNsb3NlU3Vic2NyaWJlKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY2xvc2VTdWJzY3JpYmUoKSB7XG5cdHN1YnNjcmliZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHN1YnNjcmliZUNvbnRhaW5lckNsYXNzTmFtZURpc2FibGVkKTtcblx0c3Vic2NyaWJlQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoc3Vic2NyaWJlQ29udGFpbmVyQ2xhc3NOYW1lQWN0aXZlKTtcblx0c3Vic2NyaWJlSW5wdXRFbWFpbC52YWx1ZSA9ICcnO1xuXHRzdWJzY3JpYmVBY3RpdmUgPSBmYWxzZTtcbn1cblxuc3Vic2NyaWJlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRvcGVuU3Vic2NyaWJlKCk7XG59KTtcblxuc3Vic2NyaWJlT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0b3BlblN1YnNjcmliZSgpO1xufSk7XG4iXX0=
